
@{
    ViewData["Title"] = "OrderEdit";
}

<h1>OrderEdit</h1>

<h4>Order</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form action="" method="post">
            <div class="form-group">
                <label for="orderId" class="control-label">Order Id</label>
                <input type="text" name="orderId" id="orderId" class="form-control" />
            </div>
            <div class="form-group">
                <label for="orderDate" class="control-label">Order Date</label>
                <input type="datetime-local" name="orderDate" id="orderDate" class="form-control" />
            </div>
            <div class="form-group">
                <label for="requiredDate" class="control-label">Required Date</label>
                <input type="datetime" name="requiredDate" id="requiredDate" class="form-control" />
            </div>
            <div class="form-group">
                <label for="shippedDate" class="control-label">Shipped Date</label>
                <input type="datetime-local" name="shippedDate" id="shippedDate" class="form-control" />
            </div>
            <div class="form-group">
                <label for="feight" class="control-label">Feight</label>
                <input type="text" name="feight" id="feight" class="form-control" />
            </div>
            <div class="form-group">
                <label for="memberId" class="control-label">Member Id</label>
                <input type="number" name="memberId" id="memberId" class="form-control" />
            </div>
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<div>
    <a href="../">Back to List</a>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        $(document).ready(function () {
            const app = appClient();
            const form = $("form");
            form.validate({
                onfocusout: false,
                onkeyup: false,
                onclick: false,
                errorClass: 'is-invalid',
                validClass: 'is-valid',
                rules: {
                    "orderId": {
                        required: true,
                    },
                    "orderDate": {
                        required: true,
                    },
                    "requiredDate": {
                        required: true,
                    },
                    "shippedDate": {
                        required: true,
                    },
                    "feight": {
                        required: true,
                    },
                    "memberId": {
                        required: true,
                    }
                }
            });
            form.submit(function (event) {
                event.preventDefault();
                console.log(event)
                console.log(form.valid())
                console.log(form)
                if (form.valid()) {
                    const payload = {
                        "orderId": event.currentTarget[0].value,
                        "orderDate": event.currentTarget[1].value,
                        "requiredDate": event.currentTarget[2].value,
                        "shippedDate": event.currentTarget[3].value,
                        "feight": event.currentTarget[4].value,
                        "memberId": event.currentTarget[5].value,
                    }
                    console.log(payload);
                }

            });
        });

    </script>
}
